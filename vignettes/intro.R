## ----setup, include=FALSE---------------------------------------------------------------------------------------------
knitr::opts_chunk$set(
    echo = TRUE
)
options(width = 120)

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  ## try http:// if https:// URLs are not supported
#  source("https://bioconductor.org/biocLite.R")
#  biocLite("pgca")

## ---------------------------------------------------------------------------------------------------------------------
library(pgca)

## ---------------------------------------------------------------------------------------------------------------------
acc1947 <- read.delim(system.file("extdata", "accs_no_1947.txt", package = "pgca"))
acc2007 <- read.delim(system.file("extdata", "accs_no_2007.txt", package = "pgca"))
acc2047 <- read.delim(system.file("extdata", "accs_no_2047.txt", package = "pgca"))
acc2067 <- read.delim(system.file("extdata", "accs_no_2067.txt", package = "pgca"))

## ---------------------------------------------------------------------------------------------------------------------
head(acc2007)
head(acc2047)

## ---------------------------------------------------------------------------------------------------------------------
subset(acc2007, Gene_Symbol == 'FGG')

## ---------------------------------------------------------------------------------------------------------------------
subset(acc2047, Gene_Symbol == 'FGG')
subset(acc2067, Gene_Symbol == 'FGG')

## ---------------------------------------------------------------------------------------------------------------------
dict <- pgca.data(
    acc2007,
    acc2047,
    acc2067,
    col.mapping = c(gene.symbol = "Gene_Symbol")
)


## ---------------------------------------------------------------------------------------------------------------------
subset(dict$dictionary, gene == 'FGG')

## ---------------------------------------------------------------------------------------------------------------------
translated <- translate(dict, input = list(acc2007, acc2067), out.dir = NULL)

## ---------------------------------------------------------------------------------------------------------------------
subset(translated[[1]], PGC == 14)
subset(translated[[2]], PGC == 14)

## ---------------------------------------------------------------------------------------------------------------------
dict2 <- pgca.files(
    system.file("extdata", "accs_no_1947.txt", package = "pgca"),
    system.file("extdata", "accs_no_2007.txt", package = "pgca"),
    system.file("extdata", "accs_no_2047.txt", package = "pgca"),
    system.file("extdata", "accs_no_2067.txt", package = "pgca"),
    col.mapping = c(gene.symbol = "Gene_Symbol")
)

## ---------------------------------------------------------------------------------------------------------------------
dict2 <- pgca(
    system.file("extdata", package = "pgca"),
    col.mapping = c(gene.symbol = "Gene_Symbol")
)

## ---------------------------------------------------------------------------------------------------------------------
subset(dict2$dictionary, pg == 10)

## ---------------------------------------------------------------------------------------------------------------------
translated2 <- translate(dict2, input = list(acc2007, acc2067, acc2047,
acc1947), out.dir = NULL)

## ---------------------------------------------------------------------------------------------------------------------
subset(translated2[[1]], Gene_Symbol == 'FGG')
subset(translated2[[2]], Gene_Symbol == 'FGG')

## ---- eval=FALSE------------------------------------------------------------------------------------------------------
#  save.dict(dict, file = "dictionary.txt")

